<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Web App 생성</title>
</head>
<body>
<h1>Web App 생성</h1>
<section>
    <h2> 톰캣 Web Application 표준 템플릿</h2>
    <ul>
        <li><strong>표준 템플릿이란?</strong>
            <ul>
                <li>Jakarta EE(구 Java EE) 사양에서 정의한 웹 애플리케이션의 기본 구조</li>
                <li>Servlet, JSP, web.xml 등을 표준 방식으로 배치하는 프로젝트 형태</li>
                <li>모든 Java 기반 WAS(Tomcat, Jetty, JBoss 등)가 동일한 구조를 인식하도록 정해진 표준</li>
            </ul>
        </li>

        <li><strong>왜 사용해야 할까?</strong>
            <ul>
                <li>개발 환경이 달라도 동일한 디렉터리 구조로 실행 가능 (서버 호환성 확보)</li>
                <li>WAS가 <code>WEB-INF/web.xml</code>을 통해 서블릿, JSP, 필터 등을 자동 인식</li>
                <li>JSP, Servlet, 정적 리소스가 구분되어 관리되므로 유지보수가 용이</li>
                <li>빌드 도구(Maven, Gradle)나 IDE가 이 표준 구조를 전제로 작동</li>
            </ul>
        </li>

        <li><strong>구조 개요</strong>
            <pre><code>
WebApp/
 ├─ src/main/java        → 서블릿 클래스, 자바 코드
 ├─ src/main/webapp      → JSP, HTML, CSS, JS 등 리소스
 │     └─ WEB-INF/
 │          └─ web.xml   → 배포 서술자(Deployment Descriptor)
 └─ pom.xml              → Maven 설정 파일
      </code></pre>
        </li>

        <li><strong>정리</strong>:
            <ul>
                <li>이 구조는 “WAS가 인식할 수 있는 표준 규약”으로 정의되어 있음</li>
                <li>IntelliJ의 “Web Application” 템플릿은 바로 이 표준 구조를 자동으로 만들어줌</li>
                <li>따라서 개발자는 별도 설정 없이 Tomcat, Jetty, GlassFish 등 어떤 WAS에서도 그대로 실행 가능</li>
            </ul>
        </li>
    </ul>
</section>
<section>
    <h2> IntelliJ IDEA에서 WebApp 프로젝트 생성하기 </h2>
    <ul>
        <li><strong>개요</strong>:
            <ul>
                <li>IntelliJ IDEA Ultimate에서는 Tomcat 연동이 가능한 웹 애플리케이션 템플릿을 제공</li>
                <li>Servlet, JSP, HTML, CSS, JavaScript 등으로 구성된 표준 WebApp 프로젝트 생성 가능</li>
            </ul>
        </li>
    </ul>
</section>

<section>
    <h2>1단계: 새 프로젝트 생성</h2>
    <ul>
        <li>메뉴 → <strong>File → New → Project</strong> 선택</li>
        <li>왼쪽 목록에서 <strong>Jakarta EE</strong> 또는 <strong>Java Enterprise</strong> 선택</li>
        <li><strong>Application template</strong> 선택 후 <strong>Web Application</strong> 체크</li>
        <li>SDK(Java 버전) 선택: JDK 17 이상 권장</li>
        <li>빌드 도구: Maven 또는 Gradle 선택 가능 (수업에서는 Maven 추천)</li>
    </ul>
</section>

<section>
    <h2>2단계: Jakarta EE(Web) 옵션 설정</h2>
    <ul>
        <li><strong>Libraries</strong> → <code>Jakarta EE 9+</code> 선택 (Tomcat 10 이상용)</li>
        <li>Servlet/JSP를 함께 사용하려면 <code>Web Application</code> 템플릿 선택</li>
        <li>서버(Runtime) → <strong>Apache Tomcat</strong> 선택</li>
        <li>Tomcat 경로가 없으면 “Configure...” 클릭 후 설치 경로 지정</li>
    </ul>
</section>

<section>
    <h2>3단계: 프로젝트 구조 확인</h2>
    <pre><code>
MyWebApp/
 ├─ src/
 │   └─ main/
 │        ├─ java/           (Servlet 클래스)
 │        ├─ webapp/
 │        │    ├─ index.jsp
 │        │    └─ WEB-INF/
 │        │         └─ web.xml
 │        └─ resources/
 ├─ pom.xml                  (Maven 설정)
  </code></pre>
    <ul>
        <li><code>webapp</code>: JSP, HTML, CSS, JS 파일을 저장하는 폴더</li>
        <li><code>WEB-INF/web.xml</code>: 서블릿과 매핑 정보 관리</li>
        <li><code>java/</code>: 서블릿 클래스 및 비즈니스 로직 코드 작성</li>
    </ul>
</section>

<section>
    <h2>4단계: 간단한 JSP 페이지 작성</h2>
    <pre><code>&lt;%@ page contentType="text/html; charset=UTF-8" %&gt;
&lt;html&gt;
&lt;head&gt;&lt;title&gt;Hello JSP&lt;/title&gt;&lt;/head&gt;
&lt;body&gt;
  &lt;h2&gt;Hello, JSP! 톰캣 연동 성공 🎉&lt;/h2&gt;
  &lt;p&gt;현재 시간: &lt;%= new java.util.Date() %&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
  </code></pre>
    <p>파일 위치: <code>src/main/webapp/index.jsp</code></p>
</section>

<section>
    <h2>5단계: 배포 설정</h2>
    <ul>
        <li>메뉴 → <strong>Run → Edit Configurations</strong></li>
        <li><strong>Tomcat Server → Local</strong> 추가</li>
        <li>Deployment 탭 → <strong>+ Artifact</strong> → <code>MyWebApp:war exploded</code> 선택</li>
        <li>Application context: <code>/</code> 또는 <code>/myweb</code> 설정</li>
    </ul>
</section>

<section>
    <h2>6단계: 실행 및 테스트</h2>
    <ul>
        <li>상단의 실행(▶️) 버튼 클릭 → Tomcat 시작</li>
        <li>브라우저가 자동으로 열리며 <code>http://localhost:8080/myweb</code> 접속</li>
        <li><strong>Hello JSP!</strong> 메시지가 보이면 성공</li>
        <li>JSP 수정 후 저장하면 IntelliJ가 자동으로 재배포 (Hot Deploy)</li>
    </ul>
</section>

<section>
    <h2>7단계: 서블릿 클래스 추가</h2>
    <pre><code>package com.example;

import jakarta.servlet.*;
import jakarta.servlet.http.*;
import java.io.*;

public class HelloServlet extends HttpServlet {
    @Override
    protected void doGet(HttpServletRequest req, HttpServletResponse resp)
            throws IOException {
        resp.setContentType("text/html;charset=UTF-8");
        PrintWriter out = resp.getWriter();
        out.println("&lt;h2&gt;Hello Servlet! 톰캣 실행 성공&lt;/h2&gt;");
    }
}
  </code></pre>
    <ul>
        <li>파일 위치: <code>src/main/java/com/example/HelloServlet.java</code></li>
        <li><code>WEB-INF/web.xml</code>에 서블릿 매핑 등록</li>
    </ul>
</section>

<section>
    <h2>8단계: web.xml 매핑 설정</h2>
    <pre><code>&lt;web-app xmlns="https://jakarta.ee/xml/ns/jakartaee"
         version="5.0"&gt;
  &lt;servlet&gt;
    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;
    &lt;servlet-class&gt;com.example.HelloServlet&lt;/servlet-class&gt;
  &lt;/servlet&gt;

  &lt;servlet-mapping&gt;
    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/hello&lt;/url-pattern&gt;
  &lt;/servlet-mapping&gt;
&lt;/web-app&gt;
  </code></pre>
    <p>실행 후 <code>http://localhost:8080/myweb/hello</code> 접속 시 “Hello Servlet!” 출력</p>
</section>

</body>
</html>